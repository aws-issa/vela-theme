<style>
  .custom-contact {
    background-color: #ffffff;
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    padding: 32px;
    max-width: 600px;
    margin: 0 auto;
    font-family: system-ui, sans-serif;
  }
  .custom-contact__title {
    font-size: 20px;
    font-weight: 700;
    margin: 0 0 16px;
  }
  .custom-contact__divider {
    border-top: 1px solid #e5e7eb;
    margin: 0 0 24px;
  }
  .custom-contact__field {
    display: flex;
    flex-direction: column;
    margin-bottom: 24px;
  }
  .custom-contact__label {
    font-size: 16px;
    font-weight: 500;
    color: #111827;
    margin-bottom: 8px;
  }
  .custom-contact__asterisk {
    color: #dc2626;
    margin-left: 4px;
  }
  .custom-contact__input,
  .custom-contact__select,
  .custom-contact__textarea {
    padding: 12px;
    border: 1px solid #d1d5db;
    border-radius: 4px;
    font-size: 16px;
    font-family: inherit;
  }
  .custom-contact__textarea {
    min-height: 160px;
    resize: vertical;
  }
  .custom-contact__file-label {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 16px;
    border: 1px dashed #d1d5db;
    border-radius: 4px;
    cursor: pointer;
    font-size: 16px;
    color: #111827;
    margin-bottom: 8px;
  }
  .custom-contact__file-label svg {
    width: 24px;
    height: 24px;
    margin-right: 8px;
    fill: #1f2937;
  }
  .custom-contact__help {
    font-size: 14px;
    color: #6b7280;
    margin-top: 4px;
  }
  .custom-contact__button {
    text-align: center;
    margin-top: 16px;
  }
  .custom-contact__button button {
    width: 100%;
    padding: 16px;
    background-color: #111827;
    color: #ffffff;
    border: none;
    border-radius: 4px;
    font-size: 16px;
    font-weight: 500;
    cursor: pointer;
  }
  .custom-contact__note {
    font-size: 14px;
    color: #6b7280;
    text-align: center;
    margin-top: 24px;
  }
  .custom-contact__file-list {
    margin-top: 12px;
  }
  .custom-contact__file-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    background-color: #ffffff;
    border: 1px solid #e5e7eb;
    border-radius: 4px;
    padding: 8px 12px;
    margin-bottom: 8px;
    font-size: 14px;
    font-family: inherit;
  }
  .custom-contact__file-name {
    flex: 1;
    margin-right: 12px;
    color: #111827;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }
  .custom-contact__file-status {
    display: flex;
    align-items: center;
    color: #10b981;
  }
  .custom-contact__file-status svg {
    width: 16px;
    height: 16px;
    margin-right: 6px;
    fill: #10b981;
  }
  .custom-contact__file-remove {
    background: none;
    border: none;
    font-size: 16px;
    line-height: 1;
    color: #6b7280;
    cursor: pointer;
    margin-left: 12px;
  }
</style>

<div class="custom-contact">
  <h2 class="custom-contact__title">Contact us</h2>
  <hr class="custom-contact__divider">
  <form
    method="post"
    action="/contact#ContactForm"
    id="ContactForm"
    enctype="multipart/form-data"
    class="custom-contact__form"
  >
    <!-- Full name -->
    <div class="custom-contact__field">
      <label for="ContactForm-name" class="custom-contact__label">
        Full name<span class="custom-contact__asterisk">*</span>
      </label>
      <input
        id="ContactForm-name"
        name="contact[Full name]"
        type="text"
        required
        class="custom-contact__input"
        placeholder="Enter your full name"
        value="{% if form.name %}{{ form.name }}{% endif %}"
      >
    </div>

    <!-- Email -->
    <div class="custom-contact__field">
      <label for="ContactForm-email" class="custom-contact__label">
        Email<span class="custom-contact__asterisk">*</span>
      </label>
      <input
        id="ContactForm-email"
        name="contact[email]"
        type="email"
        required
        class="custom-contact__input"
        placeholder="your@email.com"
        value="{% if form.email %}{{ form.email }}{% endif %}"
      >
    </div>

    <!-- Subject -->
    <div class="custom-contact__field">
      <label for="ContactForm-subject" class="custom-contact__label">
        Subject<span class="custom-contact__asterisk">*</span>
      </label>
      <select id="ContactForm-subject" name="contact[Subject]" required class="custom-contact__select">
        <option value="" disabled selected>Select a subject</option>
        <option>General Inquiry</option>
        <option>Order Issue</option>
        <option>Product Question</option>
      </select>
    </div>

    <!-- Message -->
    <div class="custom-contact__field">
      <label for="ContactForm-body" class="custom-contact__label">
        Message<span class="custom-contact__asterisk">*</span>
      </label>
      <textarea
        id="ContactForm-body"
        name="contact[Message]"
        required
        class="custom-contact__textarea"
        placeholder="Write your message..."
      >{{ form.body }}</textarea>
    </div>

    <!-- Attach Files -->
    <div class="custom-contact__field">
      <input id="ContactForm-files" name="contact[Attachments][]" type="file" multiple hidden>
      <label for="ContactForm-files" class="custom-contact__file-label">
        {{ 'icon-attach.svg' | inline_asset_content }}
        Attach Files
      </label>
      <p class="custom-contact__help">Attach up to 10 files. The maximum allowed size per file is 20 MB.</p>
      <div id="ContactForm-file-list" class="custom-contact__file-list"></div>
    </div>

    <!-- Submit -->
    <div class="custom-contact__button">
      <button type="submit">Send</button>
    </div>

    <!-- Notice -->
    <p class="custom-contact__note">
      This site is protected by reCAPTCHA Enterprise and the Google
      <a href="https://policies.google.com/privacy" target="_blank">Privacy Policy</a>
      and
      <a href="https://policies.google.com/terms" target="_blank">Terms of Service</a>
      apply.
    </p>
  </form>
</div>
<script>
  document.addEventListener('DOMContentLoaded', function () {
    var fileInput = document.getElementById('ContactForm-files');
    var fileList = document.getElementById('ContactForm-file-list');
    var fileArray = [];
    fileInput.addEventListener('change', function (event) {
      // Merge new files into fileArray, avoiding duplicates by name
      Array.from(event.target.files).forEach(function (file) {
        if (
          !fileArray.some(function (f) {
            return f.name === file.name;
          })
        ) {
          fileArray.push(file);
        }
      });
      // Re-render list
      fileList.innerHTML = '';
      fileArray.forEach(function (file) {
        var item = document.createElement('div');
        item.className = 'custom-contact__file-item';
        item.innerHTML =
          '<span class="custom-contact__file-name">' +
          file.name +
          '</span>' +
          '<span class="custom-contact__file-status">' +
          '<svg viewBox="0 0 20 20"><path fill-rule="evenodd" clip-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.707a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"/></svg>' +
          'Uploaded - 100%' +
          '</span>' +
          '<button type="button" class="custom-contact__file-remove">&times;</button>';
        fileList.appendChild(item);
        // Remove logic
        var removeBtn = item.querySelector('.custom-contact__file-remove');
        removeBtn.addEventListener('click', function () {
          // Remove from fileArray
          fileArray = fileArray.filter(function (f) {
            return f.name !== file.name;
          });
          // Update input.files
          var dt = new DataTransfer();
          fileArray.forEach(function (f) {
            dt.items.add(f);
          });
          fileInput.files = dt.files;
          // Remove from UI
          item.remove();
        });
      });
      // Update input.files with full array on initial load
      var dt = new DataTransfer();
      fileArray.forEach(function (f) {
        dt.items.add(f);
      });
      fileInput.files = dt.files;
    });
  });
</script>

{% schema %}
{
  "name": "t:sections.contact-form.name",
  "tag": "section",
  "class": "section",
  "disabled_on": {
    "groups": ["header", "footer"]
  },
  "settings": [
    {
      "type": "inline_richtext",
      "id": "heading",
      "default": "t:sections.contact-form.settings.title.default",
      "label": "t:sections.contact-form.settings.title.label"
    },
    {
      "type": "select",
      "id": "heading_size",
      "options": [
        {
          "value": "h2",
          "label": "t:sections.all.heading_size.options__1.label"
        },
        {
          "value": "h1",
          "label": "t:sections.all.heading_size.options__2.label"
        },
        {
          "value": "h0",
          "label": "t:sections.all.heading_size.options__3.label"
        },
        {
          "value": "hxl",
          "label": "t:sections.all.heading_size.options__4.label"
        },
        {
          "value": "hxxl",
          "label": "t:sections.all.heading_size.options__5.label"
        }
      ],
      "default": "h1",
      "label": "t:sections.all.heading_size.label"
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "t:sections.all.colors.label",
      "default": "scheme-1"
    },
    {
      "type": "header",
      "content": "t:sections.all.padding.section_padding_heading"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "t:sections.all.padding.padding_top",
      "default": 36
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "t:sections.all.padding.padding_bottom",
      "default": 36
    }
  ],
  "presets": [
    {
      "name": "t:sections.contact-form.presets.name"
    }
  ]
}
{% endschema %}
